!function e(a,t,i){function n(s,o){if(!t[s]){if(!a[s]){var m="function"==typeof require&&require;if(!o&&m)return m(s,!0);if(r)return r(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var h=t[s]={exports:{}};a[s][0].call(h.exports,function(e){var t=a[s][1][e];return n(t?t:e)},h,h.exports,e,a,t,i)}return t[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(e,a,t){"use strict";function i(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var n,r=e("./strings.js"),s=e("./gameover.js"),o=1e3,m=500,d=30,h=1e3,u="/naruto-js",l=u+"/assets/sprites/",y=3,p=1,c=3,g=5,f=0,A=3,I=40,w=10,N=10,O=25,M=100,x=10,v=25,Q=100,b=1,T=2,k=3,C=4,L=5,_=6,R=12,U=10,S=20,E=16,F=10,D=100,B=100,P=20,G=40,H=100,Y=73,Z=80,j=73,X=81,K=14,q=B,z=101,V=81,J=100,W=50,ee=33,ae=43,te=43,ie=43,ne=34,re=29,se=26,oe=27,me=10,de=25,he=25,ue=1,le=0,ye=1,pe=new Array,ce=new Array(3),$e=new Array,ge=new Array,fe=new Array,Ae=!1,Ie=!1,we=!1,Ne=!1,Oe=-1,Me=-1,xe=new Array,ve=!1,Qe=".left",be=".right",Te=Qe;$(function(){function e(e){$("#boxes.mini"+e).each(function(){($(this).hasClass("first")||$(this).hasClass("second")||$(this).hasClass("third"))&&xe.push($(this).find("img").attr("id"))}),".left"==e?xe.unshift("naruto"):xe.unshift("sasuke")}function a(e,a,t,i){$(e).find("img").length<i?$(e).prepend("<img id="+t+' src= "'+a+'"/>'):($(e).find("img").attr("src",a),$(e).find("img").attr("id",t))}function t(e,t){var i="#boxes.mini"+Te,s="#boxes.choose"+Te,o=n.tryAddPlayer(e),m=t.replace("Avatar1","Playable");1==o?a(i+".first",t,e,1):2==o?a(i+".second",t,e,1):(a(i+".third",t,e,1),$(r.button.id).text(r.button.startGame),ve=!0),a(s,m,e,1)}function u(e){$(e).hasClass("avatar")&&($(e).css("cursor","pointer"),$(e).click(function(){var a=$(e).find("img"),i=a.attr("src"),n=a.attr("id");t(n,i)}))}function ke(e){".left"==e?(Ce(e),$(e).each(function(){$(this).hasClass("fillspace")||$(this).fadeOut("slow")})):($(e).each(function(){$(this).fadeOut("slow")}),Ce(e))}function Ce(e){".left"==e?($("div#boxes.fillspace.clear")[0].style.display="none",$("div#boxes.fillspace").addClass("clear"),$("#welcomeScreen").animate({paddingLeft:"20%"},"slow")):$("#welcomeScreen").animate({paddingLeft:"20%"},"slow")}function Le(){$(r.mode.onePlayer.id).fadeOut("slow"),$(r.mode.twoPlayers.id).fadeOut("slow"),$(r.button.id).text(r.button.chooseTeam),$(".choose").each(function(){$(this).css("cursor","pointer"),$(this).addClass("shadow"),$(this).click(function(){$(r.button.id).text(r.button.chooseOrder),n=new ia,$(this).hasClass("left")?(ke(be),$(".choose"+be).css("cursor","default"),$(Te).each(function(){$(this).addClass("shadow"),$(this).addClass("red"),u($(this))})):(Te=be,ke(Qe),$(".choose"+Qe).css("cursor","default"),$(Te).each(function(){$(this).addClass("shadow"),$(this).addClass("blue"),u($(this))})),$(".choose").each(function(){$(this).unbind("click")})})})}function _e(){}function Re(){Re=!0,Le()}function Ue(){Re=!1,_e()}function Se(){$(r.mode.onePlayer.id).click(function(){Re()}),$(r.mode.twoPlayers.id).click(function(){Ue()})}function Ee(e){$(".score").text((Fe()+e).toString()),$(".score").animate({fontSize:"50px"},"slow"),$(".score").animate({fontSize:"25px"},"slow")}function Fe(){return parseInt($(".score").text())}function De(e){var a=$(".level");a.text("LEVEL "+e.toString()),a.animate({fontSize:"80px",opacity:1,left:"+=50"},2e3),a.animate({fontSize:"75px",opacity:0,left:"-=50"},"fast")}function Be(){$("#meter span[class ^='health']").each(function(){$(this).animate({width:B})}),$("#meter span[class ^='chakra']").each(function(){$(this).animate({width:D})}),He(xa),Me=-1,Oe=-1}function Pe(){var e=$("#player")[0].player.chakra;$("#meter span[class ^='chakra']").each(function(){e!=Me&&(e>=0?($(this).animate({width:e}),e<=e/4&&($(this).id="red"),Me=e):($(this).animate({width:0}),$(this).id="blue",Me=-1))})}function Ge(){var e=$("#player")[0].player.shield;$("#meter span[class ^='health']").each(function(){e!=Oe&&(Oe=e,e>0?($(this).id="green",$(this).animate({width:e}),e>B/4&&e<=B/1.5?(He(va),$(this).id="orange"):e<=B/4&&($(this).id="red",He(Qa))):($(this).animate({width:"0"}),Oe=-1,Be()))})}function He(e){$("#playerAvatar").setAnimation(e)}function Ye(){Ge(),Pe()}function Ze(e,a){var t="item1_"+Math.ceil(1e3*Math.random());$("#items").addSprite(t,{animation:ge.life,posx:e,posy:a,width:se,height:oe}),$("#"+t).addClass("items"),$("#"+t)[0].items=new sa($("#"+t),_,100,F)}function je(e,a,t,i,n,r,s){var o="sfx1_"+Math.ceil(1e3*Math.random());return e==fe.chargeSfx?($("#player").addSprite(o,{animation:e,posx:a+i,posy:t+n,width:r,height:s}),$("#"+o)):void(e!=fe.chargeSfx&&($("#sfx").addSprite(o,{animation:e,posx:a+i,posy:t+n,width:r,height:s}),setTimeout(function(){Xe($("#"+o))},300)))}function Xe(e){$(e)[0].remove()}function Ke(e){var a=parseInt(e.x()),t=parseInt(e.y()),i="enemiesMissile_"+Math.ceil(1e3*Math.random());$("#enemiesMissileLayer").addSprite(i,{animation:$e.enemies,posx:a-30,posy:t+20,width:25,height:17}),$("#"+i).addClass("enemiesMissiles")}function qe(e,a){a==f?$(e)[0].enemy instanceof ha?e.setAnimation(ce[2].attack):$(e)[0].enemy instanceof da?e.setAnimation(ce[1].attack):e.setAnimation(ce[0].attack):a==A&&($(e)[0].enemy instanceof ha?(je(fe.sfx3,$(e).x(),$(e).y(),20,-35,100,48),e.setAnimation(ce[2].explode)):$(e)[0].enemy instanceof da?e.setAnimation(ce[1].explode):e.setAnimation(ce[0].explode))}function ze(){$(".enemy").each(function(){var e=this;this.enemy.update($("#player"));var a=parseInt($(this).x());if(a+Z<0)return void $(this).remove();if(!Ne){var t=$(this).collision("#playerBody, #player");if(t.length>0){if(this.enemy.damage($("#player")[0].player.shield)){var i=0;this.enemy instanceof ha?!function(){var a=e.enemy;$(e).setAnimation(ce[2].damage,qe(e.enemy.node,A)),$(e).setAnimation(ce[2].explode,function(e){console.log("boss defeated"),a.onDestroy(),$(e).remove()}),$(e).w(Z),i=Q}():this.enemy instanceof da?($(this).setAnimation(ce[1].explode,function(e){$(e).remove()}),$(this).w(Z),i=v):($(this).setAnimation(ce[0].explode,function(e){$(e).remove()}),$(this).w(Z),i=x),Ee(i),$(this).removeClass("enemy")}else je(fe.sfx1,$(this).x(),$(this).y(),20,-35,55,41);$("#player")[0].player.damage(this.enemy.collisionDamage)?We($("#playerBody")):($("#playerBody").setAnimation(pe.damage),je(fe.sfx2,$("#player").x(),$("#player").y(),20,-35,70,42),Ge())}}})}function Ve(){$(".playerMissiles").each(function(){if(this.playerMissiles.update(),$(this).x()>o)return void $(this).remove();var e=$(this).collision("#actors,.enemy");if(e.length>0){this.playerMissiles.type==T?(this.playerMissiles.update(),$(this).setAnimation($e.playerexplode,function(e){$(e).remove()})):$(this).setAnimation($e.enemiesexplode,function(e){$(e).remove()});var a=this.playerMissiles.damage;$(this).removeClass("playerMissiles"),e.each(function(){if(this.enemy.damage(a)){if(this.enemy instanceof ha){Ee(Q);var e=$(this).x(),t=$(this).y();$(this).setAnimation(ce[2].explode,function(e){this.enemy.onDestroy(),$(e).remove()}),$(this).w(Z),Ze(e,t)}else this.enemy instanceof da?(Ee(v),$(this).setAnimation(ce[1].explode,function(e){$(e).remove()}),$(this).w(Z)):(Ee(x),$(this).setAnimation(ce[0].explode,function(e){$(e).remove()}),$(this).w(Z));$(this).removeClass("enemy")}else je(fe.sfx1,$(this).x(),$(this).y(),20,-35,55,41),this.enemy instanceof ha?($(this).setAnimation(ce[2].damage),$(this).w(Z)):this.enemy instanceof da?($(this).setAnimation(ce[1].damage),$(this).w(Z)):($(this).setAnimation(ce[0].damage),$(this).w(Z))})}}),$(".enemiesMissiles").each(function(){var e=parseInt($(this).x());if(e<0)return void $(this).remove();if($(this).x(e-S),!Ne){var a=$(this).collision("#player,#playerBody");a.length>0&&(a.each(function(){$("#player")[0].player.damage(w)?We($("#playerBody")):(je(fe.sfx2,$("#player").x(),$("#player").y(),20,-35,70,42),$("#playerBody").setAnimation(pe.damage),Ge())}),$(this).setAnimation($e.enemiesexplode,function(e){$(e).remove()}),$(this).removeClass("enemiesMissiles"))}})}function Je(){$(".items").each(function(){this.items.update();var e=this.items.type,a=this.items.health;if($(this).x()<0)return void $(this).remove();var t=$(this).collision("#player,#playerBody");t.length>0&&(t.each(function(){e==C?($("#player")[0].player.healHealth(a),Ge()):e==L?($("#player")[0].player.healChakra(a),Pe()):e==_?($("#player")[0].player.healHealth(a),$("#player")[0].player.healChakra(a),Ye(),$("#player")[0].player.replay+=1):Ee(me)}),$(this).removeClass("items"),$(this).remove())})}function We(e){e.setAnimation(pe.die),we=!0,Ge()}function ea(){console.log("share high score and chosen team and ranking to facebook")}function aa(){window.location.reload()}function ta(e){var a=l+e;xa=new $.gameQuery.Animation({imageURL:a+"Avatar1.png"}),va=new $.gameQuery.Animation({imageURL:a+"Avatar2.png"}),Qa=new $.gameQuery.Animation({imageURL:a+"Avatar3.png"}),pe.idle=new $.gameQuery.Animation({imageURL:a+"Idle.png"}),pe.damage=new $.gameQuery.Animation({imageURL:a+"Damage.png",numberOfFrame:6,delta:40,rate:60,type:$.gameQuery.ANIMATION_ONCE}),pe.die=new $.gameQuery.Animation({imageURL:a+"DeathMulti.png",numberOfFrame:4,delta:82,rate:60,distance:82,type:$.gameQuery.ANIMATION_HORIZONTAL|$.gameQuery.ANIMATION_ONCE|$.gameQuery.ANIMATION_MULTI}),pe.up=new $.gameQuery.Animation({imageURL:a+"Crouch.png",numberOfFrame:6,delta:40,rate:60,type:$.gameQuery.ANIMATION_ONCE}),pe.down=new $.gameQuery.Animation({imageURL:a+"Crouch.png",numberOfFrame:6,delta:40,rate:60,type:$.gameQuery.ANIMATION_ONCE}),pe.boost=new $.gameQuery.Animation({imageURL:a+"Boost.png",numberOfFrame:6,delta:40,rate:60,type:$.gameQuery.ANIMATION_ONCE}),pe.backward=new $.gameQuery.Animation({imageURL:a+"Backward.png",numberOfFrame:6,delta:40,rate:60,type:$.gameQuery.ANIMATION_ONCE}),pe.attack=new $.gameQuery.Animation({imageURL:a+"AttackMulti.png",numberOfFrame:5,delta:82,rate:60,distance:92,type:$.gameQuery.ANIMATION_HORIZONTAL|$.gameQuery.ANIMATION_ONCE|$.gameQuery.ANIMATION_MULTI}),pe.charge=new $.gameQuery.Animation({imageURL:a+"Charge.png",numberOfFrame:6,delta:40,rate:60,type:$.gameQuery.ANIMATION_ONCE})}function ia(){this.playerOrderArray=new Array,this.getCurrentPlayer=function(){return this.playerOrderArray[0]},this.tryAddPlayer=function(e){return this.playerOrderArray.length<3?this.addPlayer(e):(this.removePlayer(),this.addPlayer(e))},this.addPlayer=function(e){return this.playerOrderArray.push(e)},this.removePlayer=function(){return this.playerOrderArray.pop()}}function na(e){return this.node=$(e),this.replay=ue,this.shield=B,this.chakra=D,this.respawnTime=-1,this.chakraDamage=function(e){return this.chakra-e>0&&(this.chakra-=e,!0)},this.restoreChakra=function(){this.chakra<D&&(this.chakra+=5)},this.damage=function(e){return!Ne&&(this.shield-=e,this.shield<=0)},this.healHealth=function(e){Ne||this.shield<B&&(this.shield=Math.min(this.shield+e,B))},this.healChakra=function(e){Ne||this.chakra<D&&(this.chakra=Math.min(this.chakra+e,D))},this.respawn=function(){return this.replay--,0==this.replay||(Ne=!0,this.shield=B,this.chakra=D,this.respawnTime=(new Date).getTime(),$(this.node).fadeTo(3,.25),!1)},this.update=function(){this.respawnTime>0&&(new Date).getTime()-this.respawnTime>3e3&&(Ne=!1,$(this.node).fadeTo(0,1),this.respawnTime=-1)},!0}function ra(e,a,t,i){this.node=$(e),this.type=a,this.damage=t,this.speedx=i,this.speedy=0,this.update=function(){this.updateX(),this.updateY()},this.updateY=function(){this.node.y(parseInt(this.node.y())+this.speedy)},this.updateX=function(){this.node.x(parseInt(this.node.x())+this.speedx)}}function sa(e,a,t,i){this.node=$(e),this.type=a,this.health=t,this.speedx=i,this.speedy=0,this.update=function(){this.updateX(),this.updateY()},this.updateY=function(){this.node.y(parseInt(this.node.y())-this.speedy)},this.updateX=function(){this.node.x(parseInt(this.node.x())-this.speedx)}}function oa(e){this.collisionDamage=N,this.shield=P,this.speedx=-5,this.speedy=0,this.node=$(e),this.damage=function(e){return this.shield-=e,this.shield<=0},this.update=function(e){this.updateX(e),this.updateY(e),(Math.random()>=.99||this.collisionDamage>=O)&&Math.random()>=.95&&(Ke(this.node),qe(this.node,f))},this.updateY=function(e){var a=parseInt(this.node.y())+this.speedy;this.node.y(a)},this.updateX=function(e){var a=parseInt(this.node.x())+this.speedx;this.node.x(a)},this.onDestroy=function(){this.node.remove()}}function ma(e){this.collisionDamage=N,this.node=$(e)}function da(e){this.collisionDamage=O,this.node=$(e),this.shield=G,this.speedy=2,this.speedx=-10,this.alignmentOffset=2,this.playerYPrevPos=0}function ha(e,a){this.collisionDamage=M,this.node=$(e),this.shield=H,this.speedx=-1,this.alignmentOffset=2,this.moveForward=!0,this.onDestroy=a}function ua(){var e=document.createElement("span");e.width="0%",e.className="health",e.id="green",$("#meter")[0].appendChild(e)}function la(){var e=document.createElement("span");e.width="0%",e.className="chakra",e.id="blue",$("#meter")[0].appendChild(e)}function ya(){var e=document.createElement("div");e.className="score",$("#score")[0].appendChild(e);var a=document.createTextNode("0");$(".score")[0].appendChild(a)}function pa(){$("#avatar").addSprite("playerAvatar",{animation:xa,width:V,height:z})}function ca(e){var a=document.createElement("div");a.className="level",$("#text")[0].appendChild(a),a.appendChild(document.createTextNode("LEVEL "+e))}function $a(){$("#player")[0].player=new na($("#player")[0])}function ga(){var e=$("#welcomeMusic");e[0].volume=0,e[0].play(),e.animate({volume:1},3e3)}function fa(){$("#welcomeScreen > #boxes").each(function(){$(this).css({animation:"fadeIn 2s ease 1s 1","-webkit-animation":"fadeIn 2s ease 1s 1"})})}function Aa(){$.playground().addGroup("background",{width:o,height:m}).end().addGroup("actors",{width:o,height:m}).end().addGroup("items",{width:o,height:m}).end().addGroup("player",{posx:o/3,posy:m/2,width:X,height:j}).addSprite("cloud",{animation:Ua,posx:0,posy:0,width:81,height:73}).addSprite("playerBody",{animation:pe.idle,posx:0,posy:0,width:X,height:j}).end().addGroup("playerMissileLayer",{width:o,height:m}).end().addGroup("enemiesMissileLayer",{width:o,height:m}).end().addGroup("avatar",{posy:m-z-10,width:V,height:z}).end().addGroup("meter",{posx:V,posy:m-4*K,width:q,height:K}).end().addGroup("score",{posx:J,posy:W,width:J,height:W}).end().addGroup("text",{width:o,height:m}).end().addGroup("sfx",{width:o,height:m}).end()}function Ia(){Aa(),wa(),Na(),ua(),la(),ya(),ca(1),pa(),$a(),ga()}function wa(){$("#background").addSprite("backgroundStage1",{animation:Ra,width:o,height:m,posx:0,posy:0}).addSprite("backgroundStage2",{animation:Ra,width:o,height:m,posx:o,posy:0}).addSprite("background1",{animation:ba,width:o,height:m/4.2}).addSprite("background2",{animation:Ta,width:o,height:m,posx:o,posy:m/3.8}).addSprite("background3",{animation:ka,width:o,height:m,posy:m/6}).addSprite("background4",{animation:Ca,width:o,height:m,posx:o,posy:m/3}).addSprite("background5",{animation:La,width:o,height:m,posy:m/5}).addSprite("background6",{animation:_a,width:o,height:m,posx:o,posy:m/4})}function Na(){$.playground().registerCallback(function(){var e=(parseInt($("#background1").x())-p-o)%(-2*o)+o;$("#background1").x(e),e=(parseInt($("#background2").x())-p-o)%(-2*o)+o,$("#background2").x(e),e=(parseInt($("#background3").x())-c-o)%(-2*o)+o,$("#background3").x(e),e=(parseInt($("#background4").x())-c-o)%(-2*o)+o,$("#background4").x(e),e=(parseInt($("#background5").x())-g-o)%(-2*o)+o,$("#background5").x(e),e=(parseInt($("#background6").x())-g-o)%(-2*o)+o,$("#background6").x(e),e=(parseInt($("#backgroundStage1").x())-y-o)%(-2*o)+o,$("#backgroundStage1").x(e),e=(parseInt($("#backgroundStage2").x())-y-o)%(-2*o)+o,$("#backgroundStage2").x(e)},d),$.playground().registerCallback(function(){if(!Ie&&!Ae){var e=Math.random();if(e<.5){var a="enemy1_"+Math.ceil(1e3*Math.random()),t="item1_"+Math.ceil(1e3*Math.random());$("#items").addSprite(t,{animation:ge.coin,posx:o-50,posy:Math.random()*m,width:ee,height:ae}),$("#"+t).addClass("items"),$("#"+t)[0].items=new sa($("#"+t),k,0,E),$("#actors").addSprite(a,{animation:ce[0].idle,posx:o-50,posy:Math.random()*m,width:Z,height:Y}),$("#"+a).addClass("enemy"),$("#"+a)[0].enemy=new ma($("#"+a))}else if(e>=.5&e<.7){var t="item1_"+Math.ceil(1e3*Math.random());$("#items").addSprite(t,{animation:ge.heart,posx:o-50,posy:Math.random()*m,width:te,height:ie}),$("#"+t).addClass("items"),$("#"+t)[0].items=new sa($("#"+t),C,de,F);var a="enemy1_"+Math.ceil(1e3*Math.random());$("#actors").addSprite(a,{animation:ce[1].idle,posx:o-70,posy:Math.random()*m,width:Z,height:Y}),$("#"+a).addClass("enemy"),$("#"+a)[0].enemy=new da($("#"+a))}else if(e>.7&e<.95){var t="item1_"+Math.ceil(1e3*Math.random());$("#items").addSprite(t,{animation:ge.chakraScroll,posx:o-50,posy:Math.random()*m,width:ne,height:re}),$("#"+t).addClass("items"),$("#"+t)[0].items=new sa($("#"+t),L,he,F)}else if(e>=.95){Ae=!0;var i="enemy1_"+Math.ceil(1e3*Math.random());$("#actors").addSprite(i,{animation:ce[2].idle,posx:o-80,posy:Math.random()*m,width:Z,height:Y}),$("#"+i).addClass("enemy"),$("#"+i)[0].enemy=new ha($("#"+i),function(){console.log("bossMode ended"),Ae=!1})}}},h),$.playground().registerCallback(function(){Ie||(Je(),Ve(),ze())},d),$.playground().registerCallback(function(){if(!Ie)if(we){var e=parseInt($("#player").y())+R,a=parseInt($("#player").x())-R;e>m?$("#player")[0].player.respawn()?!function(){Ie=!0;var e="#playground";$(e).append('<div style="position: absolute; ... >'),$("#actors,#playerMissileLayer,#enemiesMissileLayer, #meter, #avatar, .score, .items, .level").fadeTo(1e3,0),$("#background").fadeTo(5e3,0,function(){return $(e).clearAll(!0)}),s.show(e,Fe(),ea,aa)}():($("#explosion").remove(),$("#player").children().show(),$("#player").y(m/2),$("#player").x(o/3),Be(),we=!1):($("#player").y(e),$("#player").x(a))}else{if($("#player")[0].player.update(),jQuery.gameQuery.keyTracker[65]){var t=parseInt($("#player").x())-R;t>0&&$("#player").x(t)}if(jQuery.gameQuery.keyTracker[68]){var t=parseInt($("#player").x())+R;t<o-X&&$("#player").x(t)}if(jQuery.gameQuery.keyTracker[87]){var t=parseInt($("#player").y())-R;t>0&&$("#player").y(t)}if(jQuery.gameQuery.keyTracker[83]){var t=parseInt($("#player").y())+R;t<m-j&&$("#player").y(t)}}},d)}var Oa,Ma;$.loadCallback(function(e){$("#loadingBar").width(400*e)});var xa,va,Qa,ba=new $.gameQuery.Animation({imageURL:l+"smallCloud1.png"}),Ta=new $.gameQuery.Animation({imageURL:l+"smallCloud1.png"}),ka=new $.gameQuery.Animation({imageURL:l+"mediumCloud3.png"}),Ca=new $.gameQuery.Animation({imageURL:l+"mediumCloud5.png"}),La=new $.gameQuery.Animation({imageURL:l+"largeCloud1.png"}),_a=new $.gameQuery.Animation({imageURL:l+"mediumCloud1.png"}),Ra=new $.gameQuery.Animation({imageURL:l+"LakeStage.png"}),Ua=new $.gameQuery.Animation({imageURL:l+"cloud.png"});ce[0]=new Array,ce[0].idle=new $.gameQuery.Animation({imageURL:l+"enemyIdle.png",numberOfFrame:5,delta:80,rate:60,type:$.gameQuery.ANIMATION_ONCE}),ce[0].attack=new $.gameQuery.Animation((Oa={imageURL:l+"enemyAttack.png",numberOfFrame:5,delta:80,rate:60},i(Oa,"numberOfFrame",4),i(Oa,"distance",81),i(Oa,"type",$.gameQuery.ANIMATION_HORIZONTAL|$.gameQuery.ANIMATION_ONCE|$.gameQuery.ANIMATION_MULTI),Oa)),ce[0].damage=new $.gameQuery.Animation({imageURL:l+"enemyDamage.png",delta:80,rate:60,numberOfFrame:2,distance:81,type:$.gameQuery.ANIMATION_HORIZONTAL|$.gameQuery.ANIMATION_ONCE|$.gameQuery.ANIMATION_MULTI}),ce[0].explode=new $.gameQuery.Animation({imageURL:l+"enemyDeath.png",delta:80,rate:30,numberOfFrame:3,distance:81,type:$.gameQuery.ANIMATION_HORIZONTAL|$.gameQuery.ANIMATION_ONCE|$.gameQuery.ANIMATION_MULTI|$.gameQuery.ANIMATION_CALLBACK}),ce[1]=new Array,ce[1].idle=new $.gameQuery.Animation({imageURL:l+"enemyIdle.png",numberOfFrame:5,delta:80,rate:60,type:$.gameQuery.ANIMATION_ONCE}),ce[1].attack=new $.gameQuery.Animation((Ma={imageURL:l+"enemyAttack.png",numberOfFrame:5,delta:80,rate:60},i(Ma,"numberOfFrame",4),i(Ma,"distance",81),i(Ma,"type",$.gameQuery.ANIMATION_HORIZONTAL|$.gameQuery.ANIMATION_ONCE|$.gameQuery.ANIMATION_MULTI),Ma)),ce[1].damage=new $.gameQuery.Animation({imageURL:l+"enemyDamage.png",delta:80,rate:60,numberOfFrame:2,distance:81,type:$.gameQuery.ANIMATION_HORIZONTAL|$.gameQuery.ANIMATION_ONCE|$.gameQuery.ANIMATION_MULTI}),ce[1].explode=new $.gameQuery.Animation({imageURL:l+"enemyDeath.png",delta:80,rate:30,numberOfFrame:3,distance:81,type:$.gameQuery.ANIMATION_HORIZONTAL|$.gameQuery.ANIMATION_ONCE|$.gameQuery.ANIMATION_MULTI|$.gameQuery.ANIMATION_CALLBACK}),ce[2]=new Array,ce[2].idle=new $.gameQuery.Animation({imageURL:l+"tobiIdle.png",numberOfFrame:5,delta:52,rate:60,type:$.gameQuery.ANIMATION_ONCE}),ce[2].attack=new $.gameQuery.Animation({imageURL:l+"tobiAttackMulti.png",numberOfFrame:5,delta:80,rate:60,distance:98,type:$.gameQuery.ANIMATION_ONCE|$.gameQuery.ANIMATION_HORIZONTAL|$.gameQuery.ANIMATION_MULTI}),ce[2].damage=new $.gameQuery.Animation({imageURL:l+"tobiDeathMulti.png",numberOfFrame:2,delta:80,rate:60,distance:98,type:$.gameQuery.ANIMATION_ONCE|$.gameQuery.ANIMATION_HORIZONTAL|$.gameQuery.ANIMATION_MULTI|$.gameQuery.ANIMATION_REVERSE}),ce[2].explode=new $.gameQuery.Animation({imageURL:l+"tobiDeathMulti.png",numberOfFrame:5,delta:80,rate:30,distance:98,type:$.gameQuery.ANIMATION_ONCE|$.gameQuery.ANIMATION_MULTI|$.gameQuery.ANIMATION_CALLBACK}),$e.player=new $.gameQuery.Animation({imageURL:l+"deathblade.png",numberOfFrame:6,delta:10,rate:90,type:$.gameQuery.ANIMATION_ONCE}),$e.enemies=new $.gameQuery.Animation({imageURL:l+"kunai.png",numberOfFrame:6,delta:15,rate:90,type:$.gameQuery.ANIMATION_ONCE}),$e.playerexplode=new $.gameQuery.Animation({imageURL:l+"deathbladehit.png",numberOfFrame:8,delta:23,rate:90,type:$.gameQuery.ANIMATION_ONCE|$.gameQuery.ANIMATION_CALLBACK}),$e.enemiesexplode=new $.gameQuery.Animation({imageURL:l+"kunaihit.png",numberOfFrame:6,delta:15,rate:90,type:$.gameQuery.ANIMATION_ONCE|$.gameQuery.ANIMATION_CALLBACK}),ge.coin=new $.gameQuery.Animation({imageURL:l+"coin.png",numberOfFrame:6,delta:10,rate:90,type:$.gameQuery.ANIMATION_ONCE}),ge.heart=new $.gameQuery.Animation({imageURL:l+"heart.png",numberOfFrame:6,delta:10,rate:90,type:$.gameQuery.ANIMATION_ONCE}),ge.chakraScroll=new $.gameQuery.Animation({imageURL:l+"chakraScroll.png",numberOfFrame:6,delta:10,rate:90,type:$.gameQuery.ANIMATION_ONCE}),ge.life=new $.gameQuery.Animation({imageURL:l+"1up.png",numberOfFrame:6,delta:10,rate:90,type:$.gameQuery.ANIMATION_ONCE}),fe.sfx1=new $.gameQuery.Animation({imageURL:l+"gah.png",numberOfFrame:6,delta:10,rate:90,type:$.gameQuery.ANIMATION_ONCE}),fe.sfx2=new $.gameQuery.Animation({imageURL:l+"doka.png",numberOfFrame:6,delta:10,rate:90,type:$.gameQuery.ANIMATION_ONCE}),fe.sfx3=new $.gameQuery.Animation({imageURL:l+"surprise.png",numberOfFrame:6,delta:10,rate:90,type:$.gameQuery.ANIMATION_ONCE}),fe.damageSfx=new $.gameQuery.Animation({imageURL:l+"damageMulti.png",numberOfFrame:4,delta:10,rate:90,distance:36,type:$.gameQuery.ANIMATION_ONCE|$.gameQuery.ANIMATION_MULTI}),fe.explosionSfx=new $.gameQuery.Animation({imageURL:l+"explosionMulti.png",numberOfFrame:7,delta:10,rate:90,distance:36,type:$.gameQuery.ANIMATION_ONCE|$.gameQuery.ANIMATION_MULTI}),fe.chargeSfx=new $.gameQuery.Animation({imageURL:l+"chargeAnimation.png",numberOfFrame:2,delta:10,rate:30,distance:93.5,type:$.gameQuery.ANIMATION_HORIZONTAL|$.gameQuery.ANIMATION_VERTICAL|$.gameQuery.ANIMATION_MULTI}),$(document).keydown(function(e){switch(e.keyCode){case 75:le=(new Date).getTime(),$("#playerBody").setAnimation(pe.attack)}if(0==le)switch(e.keyCode){case 65:$("#playerBody").setAnimation(pe.backward);break;case 87:$("#playerBody").setAnimation(pe.up);break;case 68:$("#playerBody").setAnimation(pe.boost);break;case 83:$("#playerBody").setAnimation(pe.down);break;case 76:$("#playerBody").setAnimation(pe.charge),1==ye&&(ye=je(fe.chargeSfx,$("#playerBody").x(),$("#playerBody").y(),-10,0,94,69)),(new Date).getTime()%10==0&&($("#player")[0].player.restoreChakra(),Pe())}}),$(document).keyup(function(a){if(0==le)switch(a.keyCode){case 65:$("#playerBody").setAnimation(pe.idle);break;case 87:$("#playerBody").setAnimation(pe.idle);break;case 68:$("#playerBody").setAnimation(pe.idle);break;case 83:$("#playerBody").setAnimation(pe.idle);break;case 76:$("#playerBody").setAnimation(pe.idle),Xe(ye),ye=1}switch(a.keyCode){case 13:if(ve){e(Te);var t=xe.shift();ta(t),Ia(),$.playground().startGame(function(){$("#welcomeMusic").animate({volume:0},3e3,function(){$("#welcomeMusic")[0].pause()}),$("#fightingMusic").animate({volume:1},3e3,function(){$("#fightingMusic")[0].play()}),$("#welcomeScreen").fadeOut("slow"),De(1)})}break;case 80:$.playground().pauseGame(),$("#fightingMusic").animate({volume:0},"slow",function(){$("#fightingMusic")[0].pause()}),$("#welcomeMusic").animate({volume:1},"slow",function(){$("#welcomeMusic")[0].play()}),$("#welcomeScreen").fadeIn("fast","swing",function(){$("#welcomeScreen").style.display="block"});break;case 79:$.playground().resumeGame(),$("#welcomeMusic").animate({volume:0},"slow",function(){$("#welcomeMusic")[0].pause()}),$("#fightingMusic").animate({volume:1},"slow",function(){$("#fightingMusic")[0].play()}),$("#welcomeScreen").fadeOut("fast");break;case 75:if($("#playerBody").setAnimation(0),!Ne){var i=parseInt($("#player").x()),n=parseInt($("#player").y()),r="playerMissile_"+Math.ceil(1e3*Math.random());(new Date).getTime()-le;(new Date).getTime()-le>30?$("#player")[0].player.chakraDamage(w)&&($("#playerMissileLayer").addSprite(r,{animation:$e.enemies,posx:i+30,posy:n+14,width:25,height:17}),$("#"+r).addClass("playerMissiles"),$("#"+r)[0].playerMissiles=new ra($("#"+r),b,w,S),$("#"+r).rotate(180)):$("#player")[0].player.chakraDamage(I)&&($("#playerMissileLayer").addSprite(r,{animation:$e.player,posx:i+50,posy:n+14,width:34,height:36}),$("#"+r).addClass("playerMissiles"),$("#"+r)[0].playerMissiles=new ra($("#"+r),T,I,U),$("#"+r).rotate(10)),Pe()}le=0}}),ma.prototype=new oa,ma.prototype.updateY=function(e){var a=parseInt(this.node.y());a>m-50&&this.node.y(a-2)},da.prototype=new oa,da.prototype.updateX=function(e){var a=parseInt(this.node.x())+this.speedx;this.node.x(a)},da.prototype.updateY=function(e){if(this.node.y()!=$(e)[0].gameQuery.posy)if(this.node[0].gameQuery.posy+this.alignmentOffset>$(e)[0].gameQuery.posy){var a=parseInt(this.node.y())-this.speedy;this.node.y(a)}else if(this.node[0].gameQuery.posy+this.alignmentOffset<$(e)[0].gameQuery.posy){var a=parseInt(this.node.y())+this.speedy;this.node.y(a)}this.playerYPrevPos=$(e)[0].gameQuery.posy},ha.prototype=new da,ha.prototype.updateX=function(){var e=parseInt(this.node.x());this.moveForward&e>o-300?this.node.x(e+this.speedx):(this.moveForward=!1,e<o-50?this.node.x(parseInt(this.node.x())-this.speedx):this.moveForward=!0)},ha.prototype.onDestroy=function(){oa.prototype.onDestroy.apply(),this.onDestroy()},$("#playground").playground({height:m,width:o,keyTracker:!0}),fa(),Se()})},{"./gameover.js":2,"./strings.js":3}],2:[function(e,a,t){"use strict";function i(e,a){var t=$("<button class='button'>"+e+"</button>");return t.click(a),t}function n(e,a,t,n,r){var s=i(t,a),o=i(r,n),m=$("<div class='dialog'><h4>Game Over</h4>Your final score was<h3>"+e+"</h3>Rank  Genin<br></div>");return m.append(o),m.append(s),m.opacity=0,m}function r(e,a,t,i){var r=n(a,t,"Share",i,"Retry");$(e).prepend(r),r.fadeIn()}a.exports={show:r}},{}],3:[function(e,a,t){"use strict";var i={id:"#startbutton",chooseMode:"Choose mode",chooseTeam:"Choose team",chooseOrder:"Choose order",startGame:"Press enter to start!"},n={onePlayer:{id:"#1player",text:"1player"},twoPlayers:{id:"#2players",text:"2players"}};a.exports={button:i,mode:n}},{}]},{},[1]);
//# sourceMappingURL=build.js.map
